<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>HerdKnowledge</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" typ="image/png" href="/static/icons/binos.png" />
  <!-- Tailwind with custom colors -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/static/tailwind-config.js"></script>
  <!-- Custom styles -->
  <link rel="stylesheet" href="/static/styles.css" />

  <!-- HTMX -->
  <script src="https://unpkg.com/htmx.org@1.9.2"></script>
</head>

<body class="bg-hk-background text-hk-text min-h-screen w-full">

  <header class="bg-hk-primary text-white w-full border-b border-hk-secondary shadow-md">
    <div class="w-full px-4 py-3 flex items-center justify-between max-w-screen-xl mx-auto">

      <!-- Brand Name -->
      <div class="flex items-center">
        <img 
          src="/static/icons/brand_name.png" 
          alt="HerdKnowledge Brand" 
          class="h-12 w-auto"
        />
      </div>

      <!-- Desktop Nav -->
      <nav class="hidden sm:flex items-center gap-6 text-xl font-medium whitespace-nowrap">
        <a href="/about" class="hover:underline text-hk-secondary">About</a>
        <a href="/how-to" class="hover:underline text-hk-secondary">How to Use</a>
      </nav>

        <!-- Mobile Menu Button -->
        <button id="mobile-menu-toggle" class="sm:hidden text-white focus:outline-none">
            ☰
        </button>
    </div>

    <!-- Mobile Nav Menu (hidden by default) -->
    <div id="mobile-menu" class="sm:hidden hidden px-4 pb-4">
        <a href="/about" class="block py-1 text-hk-secondary hover:underline">About</a>
        <a href="/how-to" class="block py-1 text-hk-secondary hover:underline">How to Use</a>
    </div>

  </header>


  <main class="max-w-3xl mx-auto w-full px-4 py-10">
    <!-- Content Column -->
    <form 
      hx-post="/ask" 
      hx-target="#results" 
      hx-swap="innerHTML" 
      class="flex flex-col sm:flex-row gap-2 items-stretch mb-6"
    >
      <input 
        type="text" 
        name="question" 
        placeholder="e.g. Elk harvest in 2023" 
        required 
        class="flex-1 px-4 py-2 border border-hk-secondary rounded-lg focus:ring-2 focus:ring-hk-primary outline-none"
      />
      <button 
        type="submit" 
        class="bg-hk-link text-white px-4 py-2 rounded-lg font-semibold hover:bg-orange-700"
      >
        Ask
      </button>
      <span id="spinner" class="text-sm text-hk-accent hidden ml-2">⏳ Searching...</span>
    </form>

    <p class="text-sm text-hk-text mb-6">
        Try:
    <button 
        onclick="setQuestion('Elk harvest in 2023')" 
        class="text-sm bg-hk-secondary text-hk-accent rounded-full px-3 py-1 hover:bg-hk-primary hover:text-white cursor-pointer"
    >
        Elk harvest in 2023
    </button>
    <button 
        onclick="setQuestion('Deer population estimates for 2022')" 
        class="text-sm bg-hk-secondary text-hk-accent rounded-full px-3 py-1 hover:bg-hk-primary hover:text-white cursor-pointer"
    >
        Deer population estimates for 2022
    </button>
    </p>

    <div id="results" class="mb-6">
      <!-- Results will appear here -->
    </div>

    <!-- Example Queries Section -->
    <div class="mb-6">
      <h3 class="text-xl font-semibold text-hk-primary mb-4">Example Queries</h3>
      <div class="space-y-3">
        <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-hk-link cursor-pointer hover:shadow-lg transition-shadow" onclick="setQuestion('What is the population of elk in Colorado for 2024 in unit 10?')">
          <p class="text-hk-text font-mono text-sm">"What is the population of elk in Colorado for 2024 in unit 10?"</p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-hk-link cursor-pointer hover:shadow-lg transition-shadow" onclick="setQuestion('What is the elk harvest in Colorado for 2024 in unit 10?')">
          <p class="text-hk-text font-mono text-sm">"What is the elk harvest in Colorado for 2024 in unit 10?"</p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-hk-link cursor-pointer hover:shadow-lg transition-shadow" onclick="setQuestion('What is the population of elk in Colorado for 2024 in unit 10 and what are the elk harvest statistics?')">
          <p class="text-hk-text font-mono text-sm">"What is the population of elk in Colorado for 2024 in unit 10 and what are the elk harvest statistics?"</p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-hk-link cursor-pointer hover:shadow-lg transition-shadow" onclick="setQuestion('Show me deer harvest statistics for 2023')">
          <p class="text-hk-text font-mono text-sm">"Show me deer harvest statistics for 2023"</p>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 border-l-4 border-hk-link cursor-pointer hover:shadow-lg transition-shadow" onclick="setQuestion('Pronghorn harvest statistics for 2024')">
          <p class="text-hk-text font-mono text-sm">"Pronghorn harvest statistics for 2024"</p>
        </div>
      </div>
      <p class="text-sm text-hk-text mt-4 text-center">
        <a href="/how-to#getting-the-most" class="text-hk-link hover:text-orange-700 font-semibold">View more examples →</a>
      </p>
    </div>

    <!-- How it Works Section -->
    <div class="bg-hk-secondary bg-opacity-20 rounded-lg p-6 border-l-4 border-hk-primary mb-6">
      <h3 class="text-xl font-semibold text-hk-accent mb-3">How it Works</h3>
      <p class="text-hk-text mb-3">
        Ask questions in plain English and get instant answers about Colorado Parks and Wildlife 
        hunting data. No more scanning through PDFs on government websites—just ask what you need 
        to know about elk, deer, and pronghorn harvest and population data (2019-2024).
      </p>
      <p class="text-hk-text mb-4">
        <strong>Tip:</strong> Be specific by including state, species, year, season, and unit for the best results.
      </p>
      <a 
        href="/how-to" 
        class="inline-block text-hk-link hover:text-orange-700 font-semibold text-sm"
      >
        Learn more about using HerdKnowledge →
      </a>
    </div>

  </main>

  <script>
    function setQuestion(text) {
      const input = document.querySelector('input[name="question"]');
      input.value = text;
    }

    document.body.addEventListener('htmx:request', function () {
      document.getElementById('spinner').classList.remove('hidden');
    });
    document.body.addEventListener('htmx:afterOnLoad', function () {
      document.getElementById('spinner').classList.add('hidden');
    });
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
        const toggleBtn = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');

        toggleBtn.addEventListener('click', function () {
        mobileMenu.classList.toggle('hidden');
        });
    });
  </script>

</body>
</html>
